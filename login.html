<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>STILL • 로그인</title>
  <link rel="icon" type="image/png" href="still_logo1.png">
  <style>
    :root{
      --brand:#D70F12;
      --bg1:#7d0a0c; --bg2:#d1161a;
      --ink:#121212;
      --line:rgba(18,18,18,.10);
      --shadow: 0 26px 80px rgba(0,0,0,.22);
      --r32:32px; --r24:24px; --r16:16px;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
              "Apple SD Gothic Neo","Noto Sans KR", Arial, sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:var(--sans); color:var(--ink);
      min-height:100vh;
      background:
        radial-gradient(1000px 720px at 18% 8%, rgba(255,255,255,.12), transparent 60%),
        radial-gradient(1000px 720px at 86% 35%, rgba(0,0,0,.22), transparent 55%),
        linear-gradient(135deg, var(--bg2), var(--bg1));
      padding:22px;
      display:grid; place-items:center;
    }
    .frame{ width:min(980px,100%); border-radius:var(--r32); padding:14px; }
    .inner{
      background:#fff; border-radius:calc(var(--r32) - 10px);
      overflow:hidden; box-shadow:var(--shadow);
      border:2px solid rgba(255,255,255,.55);
    }
    .header{
      background:
        radial-gradient(1200px 260px at 12% 0%, rgba(255,255,255,.18), transparent 62%),
        radial-gradient(900px 260px at 85% 0%, rgba(0,0,0,.22), transparent 65%),
        linear-gradient(135deg, #e0181c, #8d0b0d);
      padding:18px 22px 16px; color:#fff;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .brand{display:flex; align-items:center; gap:8px;}
    .brand img{height:46px}
    .pill{
      padding:10px 14px; border-radius:999px;
      border:1px solid rgba(255,255,255,.25);
      background:rgba(255,255,255,.12);
      font-weight:900; font-size:13px; color:rgba(255,255,255,.92);
    }
    .wrap{ padding:18px; display:grid; grid-template-columns: 1fr 1fr; gap:16px; }
    @media (max-width: 860px){ .wrap{ grid-template-columns: 1fr; } }
    .card{
      border:1px solid var(--line);
      border-radius: var(--r24);
      padding:16px;
      box-shadow: 0 18px 44px rgba(0,0,0,.08);
      background:#fff;
    }
    h2{ margin:0 0 8px; font-size:18px; letter-spacing:-.02em;}
    p{ margin:0 0 12px; color:rgba(18,18,18,.60); font-weight:700; font-size:13px; line-height:1.5;}
    label{ display:block; font-size:12px; font-weight:900; color:rgba(18,18,18,.60); margin:10px 0 6px;}
    input{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(18,18,18,.16);
      outline:0;
      font-size:14px;
    }
    .row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;}
    button{
      height:40px;
      padding:0 14px;
      border-radius:999px;
      border:1px solid rgba(18,18,18,.12);
      background:rgba(18,18,18,.04);
      font-weight:900;
      cursor:pointer;
    }
    button.primary{
      background: rgba(215,15,18,.10);
      border-color: rgba(215,15,18,.20);
      color:#7a0b0b;
    }
    button.ghost{
      background:transparent;
      border-color: rgba(18,18,18,.12);
    }
    .msg{
      margin-top:12px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(18,18,18,.10);
      background: rgba(18,18,18,.03);
      font-size:13px;
      color:rgba(18,18,18,.75);
      font-weight:800;
      white-space:pre-line;
    }
    .step{ display:none; }
    #recaptcha{ margin-top:12px; }
    .hint{ font-size:12px; color:rgba(18,18,18,.55); font-weight:700; margin-top:8px; }
  </style>
</head>
<body>
  <div class="frame">
    <div class="inner">
      <div class="header">
        <div class="brand">
          <img src="still_logo.png" alt="STILL">
          <span class="pill">보안 로그인</span>
        </div>
        <button id="btnLogout" class="ghost" type="button">로그아웃</button>
      </div>

      <div class="wrap">
        <!-- Step 1: Email signup/login -->
        <section class="card step" id="stepEmail">
          <h2>1) 이메일로 로그인/가입</h2>
          <p>사이트 이용 전 <b>이메일 인증 + 전화번호 인증 + 소속 교회</b> 입력이 필요합니다.</p>

          <label>이메일</label>
          <input id="email" type="email" placeholder="example@email.com" autocomplete="email"/>

          <label>비밀번호</label>
          <input id="password" type="password" placeholder="8자 이상" autocomplete="current-password"/>

          <div class="row">
            <button id="btnSignup" class="primary" type="button">회원가입</button>
            <button id="btnLogin" type="button">로그인</button>
          </div>

          <div class="hint">※ Email/Password 제공업체가 켜져 있어야 합니다.</div>
        </section>

        <!-- Step 2: Email verification -->
        <section class="card step" id="stepVerify">
          <h2>2) 이메일 인증</h2>
          <p>가입한 이메일로 인증 링크를 보냈어요. <b>인증 후</b> 아래 버튼을 눌러 확인해 주세요.</p>

          <div class="row">
            <button id="btnSendVerify" type="button">인증메일 다시 보내기</button>
            <button id="btnIverified" class="primary" type="button">인증 완료했어요</button>
          </div>
        </section>

        <!-- Step 3: Phone verification -->
        <section class="card step" id="stepPhone">
          <h2>3) 전화번호(SMS) 인증</h2>
          <p>유튜브처럼 <b>전화번호 인증</b>을 완료해야 접근할 수 있어요.</p>

          <label>휴대폰 번호</label>
          <input id="phone" type="tel" placeholder="010-1234-5678" />

          <div id="recaptcha"></div>

          <div class="row">
            <button id="btnSendSms" class="primary" type="button">인증번호 받기</button>
          </div>

          <label>인증번호</label>
          <input id="smscode" type="text" placeholder="SMS로 받은 6자리 코드" />

          <div class="row">
            <button id="btnConfirmSms" type="button">인증 완료</button>
          </div>

          <div class="hint">※ 승인된 도메인(kimyebin726.github.io)이 등록되어 있어야 합니다.</div>
        </section>

        <!-- Step 4: Church info -->
        <section class="card step" id="stepChurch">
          <h2>4) 소속 교회/교단 입력</h2>
          <p>커뮤니티 보호를 위해 <b>소속 교회와 교단</b>을 입력해 주세요.</p>

          <label>소속 교회명</label>
          <input id="churchName" type="text" placeholder="예: 한마음교회" />

          <label>교단/소속</label>
          <input id="denomination" type="text" placeholder="예: 대한예수교장로회(통합)" />

          <div class="row">
            <button id="btnSaveChurch" class="primary" type="button">저장하고 시작하기</button>
          </div>

          <div class="hint">※ 이 정보는 users 컬렉션에 저장됩니다.</div>
        </section>

        <section class="card">
          <h2>진행 상태</h2>
          <p>아래 메시지에 진행 상황/에러가 표시됩니다.</p>
          <div id="msg" class="msg">대기중…</div>
        </section>
      </div>
    </div>
  </div>

  <script type="module" src="auth/login.js"></script>
</body>
</html>
